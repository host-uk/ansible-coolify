all:
  vars:
    # HostUK Private S3 (Infrastructure Backups)
    hostuk_s3_enabled: true
    hostuk_s3_endpoint: "https://fsn1.your-objectstorage.com"
    hostuk_s3_bucket: "your-private-bucket"
    hostuk_s3_region: "fsn1"
    hostuk_s3_path: "state"

    # Coolify Public S3 (Application Files)
    coolify_s3_app_enabled: true
    coolify_s3_app_endpoint: "https://fsn1.your-objectstorage.com"
    coolify_s3_app_bucket: "your-public-bucket"
    coolify_s3_app_region: "fsn1"

  children:
    # Environment groups: Use these with --limit (e.g., -l production)
    production:
      hosts:
        noc.example.com:
          ansible_host: "1.2.3.4"
          public_ip: "1.2.3.4"
          private_ip: "10.0.0.3"
          platform: hcloud
          labels: [monitoring, controller]
        worker1.example.com:
          ansible_host: "5.6.7.8"
          public_ip: "5.6.7.8"
          private_ip: "10.0.1.2"
          platform: hrobot
          labels: [app_servers, worker]
      vars:
        # Production private network details
        private_network_cidr: "10.0.0.0/16"
        private_network_interface: "eth1"
        ansible_ssh_private_key_file: "~/.ssh/your-key"
        coolify_private_key_path: "~/.ssh/your-key"
        public_key: "{{ lookup('file', lookup('env', 'HOME') + '/.ssh/your-key.pub', errors='ignore') }}"
        coolify_key_name: "prod-worker-key"
        coolify_workers:
          - worker1.example.com
    development:
      hosts:
        vm-controller.lan:
          ansible_ssh_private_key_file: ~/.ssh/vm-worker
          platform: parallels
          labels: [controller]
        vm-worker.lan:
          ansible_ssh_private_key_file: ~/.ssh/vm-worker
          platform: parallels
          labels: [worker]
      vars:
        coolify_worker_name: "vm-worker.lan"
        coolify_private_key_path: "~/.ssh/vm-worker"
        public_key: "{{ lookup('file', lookup('env', 'HOME') + '/.ssh/vm-worker.pub', errors='ignore') }}"
        coolify_key_name: "dev-worker-key"
        coolify_workers:
          - vm-worker.lan
