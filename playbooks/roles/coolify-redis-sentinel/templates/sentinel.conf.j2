# Redis Sentinel Configuration
# Generated by Ansible for {{ redis_node_name }}

# Sentinel port
port 26379

# Directory for sentinel state
dir /data

# Monitor the master
sentinel monitor {{ redis_master_name }} {{ redis_master_ip }} {{ redis_port }} {{ redis_sentinel_quorum }}

# Authentication
sentinel auth-pass {{ redis_master_name }} {{ redis_password }}

# Timing configuration
sentinel down-after-milliseconds {{ redis_master_name }} {{ redis_sentinel_down_after_ms }}
sentinel failover-timeout {{ redis_master_name }} {{ redis_sentinel_failover_timeout }}
sentinel parallel-syncs {{ redis_master_name }} {{ redis_sentinel_parallel_syncs }}

# Announce IP for this sentinel (for NAT/Docker environments)
sentinel announce-ip {{ redis_node_ip }}
sentinel announce-port {{ redis_sentinel_port }}

# Resolve hostnames (Redis 7+)
sentinel resolve-hostnames yes
sentinel announce-hostnames no

# Logging
loglevel notice
