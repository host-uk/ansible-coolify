# Service definition for: appsmith
# Auto-generated from successful service test
#
# Apply with:
#   ansible-playbook playbooks/coolify/template/apply.yml \
#     -e template_name=appsmith -e project=xxx -e env_name=yyy

services:
  - service_type: appsmith
    description: ""
    connect_to_docker_network: false
    docker_compose_raw: |
        services:
          appsmith:
            image: 'index.docker.io/appsmith/appsmith-ce:latest'
            environment:
              - SERVICE_URL_APPSMITH
              - 'APPSMITH_MAIL_ENABLED=${APPSMITH_MAIL_ENABLED:-false}'
              - 'APPSMITH_DISABLE_TELEMETRY=${APPSMITH_DISABLE_TELEMETRY:-false}'
              - 'APPSMITH_DISABLE_INTERCOM=${APPSMITH_DISABLE_INTERCOM:-true}'
              - 'APPSMITH_SENTRY_DSN=${APPSMITH_SENTRY_DSN}'
              - 'APPSMITH_SMART_LOOK_ID=${APPSMITH_SMART_LOOK_ID}'
            volumes:
              - 'stacks-data:/appsmith-stacks'
            healthcheck:
              test:
                - CMD
                - curl
                - '-f'
                - 'http://127.0.0.1:80'
              interval: 5s
              timeout: 20s
              retries: 10

